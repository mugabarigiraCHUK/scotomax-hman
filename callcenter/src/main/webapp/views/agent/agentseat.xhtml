<ui:composition xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:a4j="http://richfaces.org/a4j"
		xmlns:rich="http://richfaces.org/rich" 
		template="/theme/template.xhtml">

	<ui:define name="body">
		<h:outputStylesheet>
			.agent-seat-tooltip {
			    background-color: #{richSkin.generalBackgroundColor};
			    border-width:3px;
			}
		</h:outputStylesheet>
		<h:form id="agentseatForm">
			<rich:panel id="agentSeatPanel" header="#{msg['agentseat.panel.input']}">
				<a4j:outputPanel id="agentSeatOutputPanel">
					
					<fieldset>
							<legend><h:outputText value="#{msg['agentseat.panel.search']}" /></legend>
							<h:messages/>
							
							<h:panelGrid columns="3" styleClass="inputtable">
								<h:column/>
								<a4j:commandButton value="#{msg['button.create']}" 
				                							action="#{agentSeatController.edit}"
														 	render="agentSeatCreateUpdatePanel" 
														 	execute="@this"
														 	oncomplete="#{rich:component('agentSeatCreateUpdatePanel')}.show()">
									<a4j:param value="-1" assignTo="#{agentSeatController.selectedSeatId}"/>
								</a4j:commandButton>
								<a4j:commandButton value="#{msg['button.refresh']}"
															 	render="agentSeatCreateUpdatePanel" 
															 	execute="@this"/>
							</h:panelGrid>
							
					</fieldset>
					
					<fieldset>
						<legend><h:outputText value="#{msg['agentseat.datatable.legend']}" /></legend>

						<h:outputText value="#{msg['no.found.data.message']}" rendered="#{empty agentSeatController.agentSeats}"/>
						<!-- Data Grid -->
						<rich:dataGrid value="#{agentSeatController.agentSeats}" 
											 var="data" 
											 columns="#{agentSeatController.numberOfColumn}" 
											 border="0" 
											 rendered="#{not empty agentSeatController.agentSeats}">
                			
                			<rich:panel styleClass="agent-seat">
                				<h:outputText value="#{data.seatName}" />
                				<h:panelGrid columns="2">
                					<a4j:commandButton value="#{msg['button.edit']}" 
																 action="#{agentSeatController.edit}" 
																 render="agentSeatCreateUpdatePanel" 
																 execute="@this" 
																 oncomplete="#{rich:component('agentSeatCreateUpdatePanel')}.show()"
																 rendered="#{not empty data.seatId}">
										<a4j:param value="#{data.seatId}" assignTo="#{agentSeatController.selectedSeatId}"/>
									</a4j:commandButton>
									<a4j:commandButton value="#{msg['button.delete']}" 
																  render="@none" 
																  execute="@this" 
																  oncomplete="#{rich:component('agentSeatDeletePanel')}.show()"
																  rendered="#{not empty data.seatId}">
										<a4j:param value="#{data.seatId}" assignTo="#{agentSeatController.selectedSeatId}"/>
									</a4j:commandButton>
									
                				</h:panelGrid>
                				<rich:tooltip styleClass="tooltip" layout="block">
						                	
					                	<h:outputLabel for="tooltip-seatid" value="#{msg['agentseat.table.id']} : " style="font-weight: bold;" />
					                	<h:outputText id="tooltip-seatid" value="#{data.seatId}" /><br />
					                	
					                	<h:outputLabel for="tooltip-name" value="#{msg['agentseat.table.name']} : " style="font-weight: bold;" />
					                	<h:outputText id="tooltip-name" value="#{data.seatName}" /><br />
					                	
					                	<h:outputLabel for="tooltip-description" value="#{msg['agentseat.table.description']} : " style="font-weight: bold;" />
					                	<h:outputText id="tooltip-description" value="#{data.seatDescription}" /><br />
					                	
					                	<h:outputLabel for="tooltip-startperiod" value="#{msg['agentseat.table.startperiod']} : " style="font-weight: bold;" />
					                	<h:outputText id="tooltip-startperiod" value="#{data.seatStartPeriod}" /><br />
					                	
					                	<h:outputLabel for="tooltip-endperiod" value="#{msg['agentseat.table.endperiod']} : " style="font-weight: bold;" />
					                	<h:outputText id="tooltip-endperiod" value="#{data.seatEndPeriod}" /><br />
					                	
					                	<h:outputLabel for="tooltip-maxcall" value="#{msg['agentseat.table.maxcall']} : " style="font-weight: bold;" />
					                	<h:outputText id="tooltip-maxcall" value="#{data.seatMaxCall}" /><br />
					                	
					                	<h:outputLabel for="tooltip-allowoutbound" value="#{msg['agentseat.table.allowoutbound']} : " style="font-weight: bold;" />
					                	<h:outputText id="tooltip-allowoutbound" value="#{data.seatAllowOutbound}" /><br />
						                	
						            </rich:tooltip>
                			</rich:panel>
                			
                		</rich:dataGrid>
					
					</fieldset>
						
				</a4j:outputPanel>
			</rich:panel>
		
			<rich:popupPanel id="agentSeatCreateUpdatePanel" 
								   domElementAttachment="parent" 
								   autosized="true">
				<h:panelGrid columns="2" styleClass="inputtable">
					<h:panelGroup>
						<fieldset>
							<legend><h:outputText value="#{msg['agentseat.create.update.legend']}" /></legend>
								<h:panelGrid columns="2" styleClass="inputtable">
									<h:column/>
									<h:messages/>
									
									<h:outputText value="#{msg['agentseat.id']}" />
									<h:inputText value="#{agentSeatController.seatId}" rendered="#{empty agentSeatController.seatId}"/>
									<h:outputText value="#{agentSeatController.seatId}" rendered="#{not empty agentSeatController.seatId}"/>
									
									<h:outputText value="#{msg['agentseat.name']}"/>
									<h:inputText value="#{agentSeatController.seatName}" />
									
									<h:outputText value="#{msg['agentseat.description']}"/>
									<h:inputTextarea value="#{agentSeatController.seatDescription}" cols="30" rows="5" />
									
									<h:outputText value="#{msg['agentseat.startperiod']}"/>
									<rich:calendar value="#{agentSeatController.seatStartPeriod}"
										                    locale="#{userController.locale}" 
										                    popup="true"
										                    datePattern="dd/MM/yy HH:mm"
										                    showApplyButton="true" 
										                    cellWidth="24px"
										                    cellHeight="22px" 
										                    style="width:200px">
					                </rich:calendar>
									
									<h:outputText value="#{msg['agentseat.endperiod']}"/>
									<rich:calendar value="#{agentSeatController.seatEndPeriod}"
										                    locale="#{userController.locale}" 
										                    popup="true"
										                    datePattern="dd/MM/yy HH:mm"
										                    showApplyButton="true" 
										                    cellWidth="24px"
										                    cellHeight="22px" 
										                    style="width:200px">
					                </rich:calendar>
									
									<h:outputText value="#{msg['agentseat.maxcall']}"/>
									<h:inputText value="#{agentSeatController.seatMaxCall}" />
									
									<h:outputText value="#{msg['agentseat.allowoutbound']}"/>
									<h:inputText value="#{agentSeatController.seatAllowOutbound}" />
									
									<h:outputText value="#{msg['agentseat.createdate']}" rendered="#{not empty agentSeatController.seatUpdateDate}"/>
									<h:outputText value="#{agentSeatController.seatCreateDate}" rendered="#{not empty agentSeatController.seatUpdateDate}"/>
									
									<h:outputText value="#{msg['agentseat.updatedate']}" rendered="#{not empty agentSeatController.seatUpdateDate}"/>
									<h:outputText value="#{agentSeatController.seatUpdateDate}" rendered="#{not empty agentSeatController.seatUpdateDate}"/>
									
									<h:column/>
									<h:panelGroup>
										<a4j:commandButton value="#{msg['button.create']}" 
																	  action="#{agentSeatController.create}"
																	  execute="agentSeatCreateUpdatePanel" 
																	  rendered="#{empty agentSeatController.seatId}" 
																	  render="agentSeatOutputPanel"
																	  oncomplete="#{rich:component('agentSeatCreateUpdatePanel')}.hide(); return false;"/>
										<a4j:commandButton value="#{msg['button.update']}" 
																	  action="#{agentSeatController.update}"
																	  execute="agentSeatCreateUpdatePanel" 
																	  rendered="#{not empty agentSeatController.seatId}" 
																	  render="agentSeatOutputPanel"
																	  oncomplete="#{rich:component('agentSeatCreateUpdatePanel')}.hide(); return false;"/>
										<a4j:commandButton value="#{msg['button.cancel']}" onclick="#{rich:component('agentSeatCreateUpdatePanel')}.hide(); return false;" />
									</h:panelGroup>
								</h:panelGrid>
						</fieldset>
					</h:panelGroup>
					<h:panelGroup>
						<fieldset>
							<legend><h:outputText value="#{msg['agentseat.referend.data.legend']}" /></legend>
								<h:panelGrid columns="2" styleClass="inputtable">
					
									<h:outputText value="#{msg['agentseat.level']}"/>
									<h:selectOneMenu value="#{agentSeatController.agentLevel}">
										<f:converter converterId="agentLevelConverter"/>
										<f:selectItems value="#{dataLoadController.agentLevelSelectItems}"/>
									</h:selectOneMenu>
									
									<h:outputText value="#{msg['agentseat.skill']}"/>
									<h:selectOneMenu value="#{agentSeatController.agentSkill}">
										<f:converter converterId="agentSkillConverter"/>
										<f:selectItems value="#{dataLoadController.agentSkillSelectItems}"/>
									</h:selectOneMenu>
									
									<h:outputText value="#{msg['agentseat.status']}"/>
									<h:selectOneMenu value="#{agentSeatController.agentStatus}">
										<f:converter converterId="agentStatusConverter"/>
										<f:selectItems value="#{dataLoadController.agentStatusSelectItems}"/>
									</h:selectOneMenu>
									
								</h:panelGrid>	
						</fieldset>
					</h:panelGroup>
				</h:panelGrid>
			</rich:popupPanel>
			
			<rich:popupPanel id="agentSeatDeletePanel" domElementAttachment="parent" autosized="true">
				<fieldset>
					<legend><h:outputText value="#{msg['agentseat.delete.legend']}" /></legend>
		
						<h:panelGrid columns="1" styleClass="inputtable">
							<h:outputText value="#{msg['agentseat.delete.message']}" />
							<h:panelGroup>
								<a4j:commandButton value="#{msg['button.delete']}" 
															  action="#{agentSeatController.delete}" 
															  execute="agentSeatDeletePanel"
															  render="agentSeatOutputPanel"
															  oncomplete="#{rich:component('agentSeatDeletePanel')}.hide(); return false;"/>
								<a4j:commandButton value="#{msg['button.cancel']}" onclick="#{rich:component('agentSeatDeletePanel')}.hide(); return false;" />
							</h:panelGroup>
						</h:panelGrid>

				</fieldset>
			</rich:popupPanel>
			
		</h:form>
	</ui:define>
</ui:composition>